<!DOCTYPE HTML>

<html>

<head>
	<title data-bind="text: title"></title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta itemprop="name" content="Observers">
	<meta itemprop="description" content="Discover, create and contribute to new topics!">
	
	<link rel="stylesheet" href="css/normalize.css">
	<link href="css/vendor/bootstrap.min.css" rel="stylesheet"/>
	<link href="css/vendor/bootstrap-theme.min.css" rel="stylesheet"/>
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"/>

    <link rel="stylesheet" href="css/main.css"/>
	<link  rel="stylesheet" href="css/dashboard.css"/>

	<script src="js/vendor/modernizr-2.6.2.min.js"></script>
</head>

<body >	
	<header> <span id="fb-root"></span>
		<nav class="navbar navbar-default navbar-static-top" id="horizontal-menu" role="navigation">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/">Observers</a>
			</div>
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav navbar-right">
					<li><!--<a data-target="#createTopicModal" data-toggle="modal" >-->
						<a id="create-topic-link" style="cursor: pointer; cursor: hand;">
						Start new topic </a>
					</li>
					<li><!--<a data-target="#createTopicModal" data-toggle="modal" >-->
						<a id="edit-topic-link" style="cursor: pointer; cursor: hand;" data-bind="{text: 'Edit topic', visible: (id && isAdmin)}">
						</a>
					</li>
					<li data-bind="if: isLoggedIn()" class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <span><img class="img-responsive img-circle pull-left"  alt="Google profile image" data-bind="attr: {src: user().googlePublicProfilePhotoUrl, width:30, height:30}"/>
                            <span data-bind="text: userName"></span></span>
                            <b class="caret"></b>
                        </a>

						<ul class="dropdown-menu">
							<!--<li><a href="#">Manage my topics</a></li>-->
							<li><a href="javascript:void(0);" onclick="userLogout()">Logout</a></li>
							<li class="divider"></li>
							<li><a href="javascript:void(0);" onclick="userDisconnect()">Delete my account</a></li>
						</ul>
					</li>
					<li data-bind="visible: !isLoggedIn()"> <a> <span  id="signinButton">
						<span class="icon"></span>
	    				<span class="buttonText">Sign in</span>					
					</span></a> </li>			
				</ul>
			</div>
		</nav>
	</header>


	<div class="container clearfix">

<div id="dashboardStatus"></div>
<!-- Modal -->
<div class="modal fade" id="create-topic-modal" tabindex="-1" role="dialog" aria-labelledby="createTopicModalLabel" aria-hidden="true">
</div><!-- /.modal -->


<!-- Modal -->
<div class="modal fade" id="share-story-modal" tabindex="-1" role="dialog" aria-labelledby="shareTopicModalLabel" aria-hidden="true">
</div><!-- /.modal -->


	<div class="row">
		<div class="dashboard  col-wrap ">
		<div class="col-md-8  l-box">
			<div class="row col-wrap">
				<div class="col-md-8">
					<div class="jumbotron dashboard-piece ">
						<h2 data-bind="text: title"></h2>
						<p data-bind="text: shortDescription"></p>

						<div class="text-center v-center" style="font-size:29pt;"> 
							<a class="" data-bind="{attr: {href: googleplusShareUrl()}}"><i class="fa fa-google-plus"></i></a>  
							<a class="" data-bind="{attr: {href: facebookShareUrl()}}"><i class="fa fa-facebook"></i></a> 
							<a href="https://twitter.com/share" class="" data-text="Check out reports on this topic!" data-hashtags="#observersreports"><i class="fa fa-twitter"></i></a>
							<!--<a href="#" class="" data-bind = "{visible: supportsSms(), click: shareWithSMS}"><i class="fa fa-mobile-phone"></i></a> -->
						</div>
						<p><a id="share-story-link" data-toggle="modal" class="btn btn-primary btn-lg" role="button">Share your story</a></p>
					</div>
				</div>

				<div class="col-md-4">
				<div class="dashboard-piece dashboard-piece-bluebg">
					<div style="height: 18px; font-size:32; font-family: 'serif';">
						<b data-bind="{text: 'Sentiment', visible: data}"></b>
					</div>
					<div class="dashboard-content">
						<div class="canvas" id="sentiment-canvas" > </div>
					</div>
				</div>
				</div>
			</div>
			
			<div class="row  col-wrap">
				<div class="col-md-4">
					<div class="dashboard-piece  dashboard-piece-orangebg">
					<div class="dashboard-content">
						<div class="canvas" id="map-canvas" > </div>
					</div>
					</div>
				</div>
				<div class="col-md-8">
				<div class="dashboard-piece dashboard-piece-yellowbg" id="timeseries-dashboard-piece">
					<div style="height: 18px; font-size:32; font-family: 'serif';">
						<b data-bind="{text: 'Reports per day', visible: data}"></b>
					</div>
					
					<div class="dashboard-content">
						<div class="canvas" id="timeseries-canvas" > </div>
					</div>
				</div>
				</div>
			</div>
		</div>

		<div class="col-md-4 l-box dashboard-piece-graybg">
			<div class="dashboard-piece dashboard-content">
				<div style="height: 18px; font-size:32; font-family: 'serif';">
							<b data-bind="{visible: !$root.hasBuzzwords(), text: 'Latest reports'}"></b>
				</div>
		        <div id="reports-canvas" style="margin-top: 18px">
		        	<div id = "recentreports-canvas" class="panel panel-default" data-bind="visible: $root.recentReportsDisplaySelected()">
		        		<ul class="list-group" data-bind="template: {name: 'reports-template', foreach: reports}" >
		        		</ul>
		        	</div>
		        	<div id = "buzzwords-canvas" data-bind="visible: $root.buzzwordsDisplaySelected()">
		        		<ul class="list-group" data-bind="template: {name: 'buzzwords-template', foreach: buzzwords, as: buzzword}">
		        		</ul>
		        	</div>
	        	</div>
	    	</div>
	    </div>
	</div>
	</div>
	</div>

<footer>
	&copy; 2013 F. Tasse
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<!-- //-beg- concat_js -->
<!--<script type="text/javascript" src="js/vendor/jquery.tmpl.min.js"></script>-->
<script type="text/javascript" src="js/vendor/bootstrap.min.js"></script>
<script type="text/javascript" src="js/vendor/knockout-3.0.0.js"></script>
<script type="text/javascript" src="js/plugins.js"></script>
<script type="text/javascript" src="js/vendor/jquery.validate.min.js"></script>
<script type="text/javascript" src="js/main.js"></script>

<script type="text/javascript" src="js/vendor/dygraph-combined.js"></script>
<script type="text/javascript" src="js/vendor/sammy-latest.min.js"></script>
<script type="text/javascript" src="js/dashboard.js"></script>
<!-- //-end- concat_js -->

<script type="text/html" id="buzzwords-template">
	<li class="list-group-item"> ${word} <br> ${frequency} </li>
</script>

<script type="text/html" id="reports-template">
	<li class="list-group-item" style="text-align: left">  
		<a href="#" class="glyphicon glyphicon-minus-sign" data-bind="{visible: $root.isAdmin, click: $root.removeReport}" style="color:  #b94a48;"></a>
		<span data-bind="text: content"></span> <br> <span class="glyphicon glyphicon-calendar"></span> <span data-bind="text: (new Date(created)).formatMMMDDYYYY()"></span> 
		<a href="#" class="pull-right glyphicon glyphicon-eye-open" data-bind="{visible: $root.reportHasMedia($data), click: $root.showMedia}"></a>
	</li>
</script>

</body>
</html>