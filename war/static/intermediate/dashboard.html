<!DOCTYPE HTML>

<html>

<head>
	<title data-bind="text: title"></title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="css/pure-min.css" rel="stylesheet"></style>
	<link href="css/dashboard.css" rel="stylesheet"></style>
</head>

<body >	
	<header> <span id="fb-root"></span>
		<nav class="pure-menu pure-menu-open pure-menu-horizontal pure-menu-blackbg" id="horizontal-menu">
			<a href="#" class="pure-menu-heading">Observers</a>
			<ul id="std-menu-items">
				<li><a href="#">Start a new topic</a></li>
				<!-- ko if: isLoggedIn -->
				<li>
					<a href="#"><b class="fontawesome-user" alt="My account" data-bind="if: isLoggedIn"></b></a>
					<ul>
						<li class="pure-menu-heading" data-bind="text: userName"></li>
						<li class="pure-menu-separator"></li>
						<li><a href="#">Manage my topics</a></li>
						<li><a href="javascript:void(0);" data-bind="click: $root.logout">Logout</a></li>
						<li class="pure-menu-separator"></li>
						<li><a href="javascript:void(0);" data-bind="click: $root.disconnect">Delete my account</a></li>
					</ul>
				</li>
				<!-- /ko -->
				<li>
					<a href="javascript:void(0);">
						<span id="signinButton"  data-bind="visible: isNotLoggedIn">Sign in</span>
					</a>
				</li>
			</ul>
		</nav>
	</header>

	<section class="dashboard pure-g-r clearfix">
		<div class="pure-u-3-4">
			<div class="pure-g-r">
				<div class="pure-u-2-3 l-box dashboard-piece dashboard-piece-redbg">
					<div class="dashboard-content">
						<div class="canvas" id="topic-canvas">  <!-- title, summary, socialshare, send a report -->
							<div data-bind="text: title"> </div>
							<div data-bind="text: shortDescription"> </div>
							<button>Submit a report</button>

							<div class="social-share">
								<div class="fb-share-button" data-type="box_count" data-height="60">Share on Facebook</div>
								<div class="g-plus" data-action="share" data-annotation="vertical-bubble" data-height="60">Share on Google+</div>
								<a href="https://twitter.com/share" class="twitter-share-button" data-via="" data-text="" data-count="vertical">Tweet</a>
								<button type="button" class="btn btn-primary btn-xs">
									Share by SMS <!--<span class="badge" data-bind="text: numSmsShares">-->
								</button>
							</div>
						</div>
					</div>
				</div>

				<div class="pure-u-1-3 l-box dashboard-piece dashboard-piece-bluebg">
					<div class="dashboard-content">
						<div class="canvas" id="sentiment-canvas" > </div>
					</div>
				</div>
				<div class="pure-u-2-5 l-box dashboard-piece dashboard-piece-orangebg">
					<div class="dashboard-content">
						<div class="canvas" id="map-canvas" > </div>
					</div>
				</div>
				<div class="pure-u-3-5 l-box dashboard-piece dashboard-piece-yellowbg">
					<div class="dashboard-content">
						<div class="canvas" id="timeseries-canvas" > </div>
					</div>
				</div>
			</div>
		</div>

		<div class="pure-u-1- l-box dashboard-piece dashboard-piece-graybg">
			<h3 class="" data-bind="visible: !$root.hasBuzzwords()">Latest reports</h3>
	        <div id="reports-canvas">
	        	<div id = "recentreports-canvas" data-bind="visible: $root.recentReportsDisplaySelected()">
	        		<ul class="list-group" data-bind="template: {name: 'reports-template', foreach: reports}" >
	        		</ul>
	        	</div>
	        	<div id = "buzzwords-canvas" data-bind="visible: $root.buzzwordsDisplaySelected()">
	        		<ul class="list-group" data-bind="template: {name: 'buzzwords-template', foreach: buzzwords, as: buzzword}">
	        		</ul>
	        	</div>
	        </div>
	    </div>
	</div>

</section>

<footer>
	&copy; 2013 Flora Tasse
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script src="js/81f9b40.js"    ></script>

<script type="text/html" id="buzzwords-template">
	<li class="list-group-item"> ${word} <br> ${frequency} </li>
</script>

<script type="text/html" id="reports-template">
	<li class="list-group-item">  
		${content} <br> Posted on:  <span data-bind="text: new Date(created)"></span> 
		<span class="glyphicon glyphicon-minus-sign" data-bind="visible: false"></span>
	</li>
</script>

</body>
</html>